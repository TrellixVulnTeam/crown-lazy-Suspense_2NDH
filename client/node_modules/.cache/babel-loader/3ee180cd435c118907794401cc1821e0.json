{"ast":null,"code":"import firebase from 'firebase';\nconst config = {\n  apiKey: \"AIzaSyDdjN2N2JT24RdxT1zVnaMdcHG6zKd7xto\",\n  authDomain: \"crown-db-2a6b9.firebaseapp.com\",\n  projectId: \"crown-db-2a6b9\",\n  storageBucket: \"crown-db-2a6b9.appspot.com\",\n  messagingSenderId: \"998464910088\",\n  appId: \"1:998464910088:web:676130bd233f3def80b2bd\",\n  measurementId: \"G-91KVXY9DN2\"\n};\nconst app = firebase.initializeApp(config);\nconst auth = app.auth();\nconst db = app.firestore();\nconst provider = new firebase.auth.GoogleAuthProvider(); // provider.setCustomParameters({ prompt: 'select_account' }); \n\nconst signInWithGoogle = async () => {\n  try {\n    const res = await auth.signInWithPopup(provider);\n    const user = res.user;\n    const query = await db.collection(\"users\").where(\"uid\", \"==\", user.uid).get();\n\n    if (query.docs.length === 0) {\n      await db.collection(\"users\").add({\n        uid: user.uid,\n        name: user.displayName,\n        authProvider: \"google\",\n        email: user.email\n      });\n    }\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  }\n};","map":{"version":3,"sources":["C:/Users/USER/Desktop/web development/Barcel1/barcel1/src/firebase/firebase.utility.js"],"names":["firebase","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","auth","db","firestore","provider","GoogleAuthProvider","signInWithGoogle","res","signInWithPopup","user","query","collection","where","uid","get","docs","length","add","name","displayName","authProvider","email","err","console","error","alert","message"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAGA,MAAMC,MAAM,GAAG;AACXC,EAAAA,MAAM,EAAE,yCADG;AAEXC,EAAAA,UAAU,EAAE,gCAFD;AAGXC,EAAAA,SAAS,EAAE,gBAHA;AAIXC,EAAAA,aAAa,EAAE,4BAJJ;AAKXC,EAAAA,iBAAiB,EAAE,cALR;AAMXC,EAAAA,KAAK,EAAE,2CANI;AAOXC,EAAAA,aAAa,EAAE;AAPJ,CAAf;AAUA,MAAMC,GAAG,GAAGT,QAAQ,CAACU,aAAT,CAAuBT,MAAvB,CAAZ;AACA,MAAMU,IAAI,GAAGF,GAAG,CAACE,IAAJ,EAAb;AACA,MAAMC,EAAE,GAAGH,GAAG,CAACI,SAAJ,EAAX;AAGA,MAAMC,QAAQ,GAAG,IAAId,QAAQ,CAACW,IAAT,CAAcI,kBAAlB,EAAjB,C,CACA;;AACA,MAAMC,gBAAgB,GAAG,YAAW;AAChC,MAAI;AACA,UAAMC,GAAG,GAAG,MAAMN,IAAI,CAACO,eAAL,CAAqBJ,QAArB,CAAlB;AACA,UAAMK,IAAI,GAAGF,GAAG,CAACE,IAAjB;AACA,UAAMC,KAAK,GAAG,MAAMR,EAAE,CACnBS,UADiB,CACN,OADM,EAEjBC,KAFiB,CAEX,KAFW,EAEJ,IAFI,EAEEH,IAAI,CAACI,GAFP,EAGjBC,GAHiB,EAApB;;AAIA,QAAIJ,KAAK,CAACK,IAAN,CAAWC,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,YAAMd,EAAE,CAACS,UAAH,CAAc,OAAd,EAAuBM,GAAvB,CAA2B;AAC/BJ,QAAAA,GAAG,EAAEJ,IAAI,CAACI,GADqB;AAE/BK,QAAAA,IAAI,EAAET,IAAI,CAACU,WAFoB;AAG/BC,QAAAA,YAAY,EAAE,QAHiB;AAI/BC,QAAAA,KAAK,EAAEZ,IAAI,CAACY;AAJmB,OAA3B,CAAN;AAMD;AACF,GAfH,CAeI,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACAG,IAAAA,KAAK,CAACH,GAAG,CAACI,OAAL,CAAL;AACD;AACN,CApBD","sourcesContent":["import firebase from 'firebase';\r\n\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyDdjN2N2JT24RdxT1zVnaMdcHG6zKd7xto\",\r\n    authDomain: \"crown-db-2a6b9.firebaseapp.com\",\r\n    projectId: \"crown-db-2a6b9\",\r\n    storageBucket: \"crown-db-2a6b9.appspot.com\",\r\n    messagingSenderId: \"998464910088\",\r\n    appId: \"1:998464910088:web:676130bd233f3def80b2bd\",\r\n    measurementId: \"G-91KVXY9DN2\"\r\n  };\r\n\r\nconst app = firebase.initializeApp(config);\r\nconst auth = app.auth();\r\nconst db = app.firestore();\r\n\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n// provider.setCustomParameters({ prompt: 'select_account' }); \r\nconst signInWithGoogle = async () =>{\r\n    try {\r\n        const res = await auth.signInWithPopup(provider);\r\n        const user = res.user;\r\n        const query = await db\r\n          .collection(\"users\")\r\n          .where(\"uid\", \"==\", user.uid)\r\n          .get();\r\n        if (query.docs.length === 0) {\r\n          await db.collection(\"users\").add({\r\n            uid: user.uid,\r\n            name: user.displayName,\r\n            authProvider: \"google\",\r\n            email: user.email,\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n        alert(err.message);\r\n      }\r\n} ;\r\n\r\n "]},"metadata":{},"sourceType":"module"}